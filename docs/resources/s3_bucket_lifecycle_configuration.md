---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "storagegrid_s3_bucket_lifecycle_configuration Resource - storagegrid"
subcategory: ""
description: |-
  Manages lifecycle configuration for a StorageGrid S3 bucket.
---

# storagegrid_s3_bucket_lifecycle_configuration (Resource)

Manages lifecycle configuration for a StorageGrid S3 bucket.

## Example Usage

```terraform
# Configure lifecycle with multiple rules and filters
resource "storagegrid_s3_bucket_lifecycle_configuration" "data" {
  bucket_name = storagegrid_s3_bucket.data.bucket_name

  rule {
    id     = "logs-expiration"
    status = "Enabled"

    filter {
      prefix = "logs/"
    }

    expiration {
      days = 90
    }

    noncurrent_version_expiration {
      noncurrent_days = 30
    }
  }

  rule {
    id     = "temp-cleanup"
    status = "Enabled"

    filter {
      prefix = "temp/"
    }

    expiration {
      days = 7
    }

    noncurrent_version_expiration {
      noncurrent_days = 1
    }
  }
}

# Configure lifecycle with date-based expiration
resource "storagegrid_s3_bucket_lifecycle_configuration" "archive" {
  bucket_name = storagegrid_s3_bucket.archive.bucket_name

  rule {
    id     = "archive-cleanup"
    status = "Enabled"

    expiration {
      date = "2026-12-31T00:00:00.000Z"
    }

    noncurrent_version_expiration {
      noncurrent_days = 90
    }
  }
}

# Configure lifecycle without noncurrent version expiration (for non-versioned buckets)
resource "storagegrid_s3_bucket_lifecycle_configuration" "simple" {
  bucket_name = storagegrid_s3_bucket.simple.bucket_name

  rule {
    id     = "cleanup-old-objects"
    status = "Enabled"

    filter {
      prefix = "data/"
    }

    expiration {
      days = 30
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `bucket_name` (String) The name of the S3 bucket to configure lifecycle for.

### Optional

- `rule` (Block List) Lifecycle rules for the bucket. (see [below for nested schema](#nestedblock--rule))

### Read-Only

- `id` (String) The unique identifier for the lifecycle configuration (same as bucket_name).

<a id="nestedblock--rule"></a>
### Nested Schema for `rule`

Required:

- `status` (String) Status of the rule (Enabled or Disabled).

Optional:

- `expiration` (Block, Optional) Expiration settings for current object versions. (see [below for nested schema](#nestedblock--rule--expiration))
- `filter` (Block, Optional) Filter for the lifecycle rule. (see [below for nested schema](#nestedblock--rule--filter))
- `id` (String) Unique identifier for the rule.
- `noncurrent_version_expiration` (Block, Optional) Expiration settings for noncurrent object versions. (see [below for nested schema](#nestedblock--rule--noncurrent_version_expiration))

<a id="nestedblock--rule--expiration"></a>
### Nested Schema for `rule.expiration`

Optional:

- `date` (String) Date when objects expire (ISO 8601 format).
- `days` (Number) Number of days after object creation when the object expires.


<a id="nestedblock--rule--filter"></a>
### Nested Schema for `rule.filter`

Optional:

- `prefix` (String) Object key prefix that identifies the objects to which the rule applies.


<a id="nestedblock--rule--noncurrent_version_expiration"></a>
### Nested Schema for `rule.noncurrent_version_expiration`

Optional:

- `noncurrent_days` (Number) Number of days after an object becomes noncurrent when it expires.
